<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" >
	<head>
		<meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" type="text/css" th:href="@{/resources/css/vendor/bootstrap.min.css}" />
		<link rel="stylesheet" type="text/css" th:href="@{/resources/css/vendor/bootstrap-stepper.min.css}" />
		<link rel="stylesheet" type="text/css" th:href="@{/resources/css/vendor/bootstrap-select.min.css}" />
		<link rel="stylesheet" type="text/css" th:href="@{/resources/css/style.css}" />
		<title th:text="#{bookings.create}">TITLE</title>
	</head>
	<body class="d-flex flex-column min-vh-100 bg-light">
		<div th:include="navigation :: navigation"></div>
		
		<div class="container flex-grow-1 flex-shrink-0 py-5">
			<div class="mb-5 p-4 bg-white shadow-sm">
				<h1 th:text="#{bookings.create}">TITLE</h1>
				<div class="bs-stepper">
					<div class="bs-stepper-header" role="tablist">
						<div class="step">
							<div class="step-trigger">
								<span class="bs-stepper-circle">1</span>
								<span class="bs-stepper-label" th:text="#{bookings.chooseAccommodation}">CHOOSE_ACCOMMODATION</span>
							</div>
						</div>
						<div class="line"></div>
						<div class="step">
							<div class="step-trigger">
								<span class="bs-stepper-circle">2</span>
								<span class="bs-stepper-label" th:text="#{bookings.chooseCustomer}">CHOOSE_CUSTOMER</span>
							</div>
						</div>
						<div class="line"></div>
						<div class="step">
							<div class="step-trigger">
								<span class="bs-stepper-circle">3</span>
								<span class="bs-stepper-label" th:text="#{bookings.chooseTravelguide}">CHOOSE_TRAVELGUIDE</span>
							</div>
						</div>
						<div class="line"></div>
						<div class="step active">
							<div class="step-trigger">
								<span class="bs-stepper-circle">4</span>
								<span class="bs-stepper-label" th:text="#{bookings.overview}">OVERVIEW</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="mb-5 p-4 bg-white shadow-sm">
				<h3 class="pb-2" th:text="#{accommodations.details}">ACCOMMODATION_DETAILS</h3>
				<div class="row">
					<div class="col-lg-6" style="border-right: 1px solid #eee;">
						<img th:src="'data:image/jpeg;base64,' + ${image}" class="img-fluid" alt="image" />
					</div>
					<div class="col-lg-6">
						<dl class="row">
							<dt class="col-sm-4" th:text="#{accommodations.name}">NAME</dt>
							<dd class="col-sm-8" th:text="${accommodation.name}">VALUE</dd>
							
							<dt class="col-sm-4" th:text="#{accommodations.city}">CITY</dt>
							<dd class="col-sm-8" th:text="${accommodation.city.name}">VALUE</dd>
							
							<dt class="col-sm-4" th:text="#{accommodations.type}">TYPE</dt>
							<dd class="col-sm-8" th:text="#{'accommodations.type.'+${{accommodation.type}}}">VALUE</dd>
							
							<dt class="col-sm-4" th:text="#{accommodations.location}">LOCATION</dt>
							<dd class="col-sm-8" th:text="#{'accommodations.location.'+${{accommodation.location}}}">VALUE</dd>
							
							<dt class="col-sm-4" th:text="#{accommodations.price}">PRICE</dt>
							<dd class="col-sm-8" th:text="|EUR ${#numbers.formatDecimal(accommodation.price, 1, 2, 'COMMA')}">VALUE</dd>
							
							<dt class="col-sm-4" th:text="#{accommodations.description}">DESC</dt>
							<dd class="col-sm-8" th:text="${accommodation.description}">VALUE</dd>
							
							<dt class="col-sm-4" th:text="#{accommodations.bedNumber}">BEDNO</dt>
							<dd class="col-sm-8" th:text="${accommodation.bedNumber}">VALUE</dd>
							
							<dt class="col-sm-4" th:text="#{accommodations.roomNumber}">ROOMNO</dt>
							<dd class="col-sm-8" th:text="${accommodation.roomNumber}">VALUE</dd>
							
							<dt class="col-sm-4" th:text="#{bookings.travelPeriod}">TRAVEL_PERIOD</dt>
							<dd class="col-sm-8" th:text="${bookingDateRange}">VALUE</dd>
						</dl>
					</div>
				</div>
			</div>
			
			<div class="mb-5 p-4 bg-white shadow-sm">
				<h3 class="pb-2" th:text="#{customers.details}">CUSTOMER_DETAILS</h3>
				<dl class="row">
					<dt class="col-sm-2" th:text="#{customers.name}">NAME</dt>
					<dd class="col-sm-10" th:text="${customer.name}">VALUE</dd>
					
					<dt class="col-sm-2" th:text="#{customers.address}">ADDRESS</dt>
					<dd class="col-sm-10" th:text="${customer.address}">VALUE</dd>
					
					<dt class="col-sm-2" th:text="#{customers.email}">EMAIL</dt>
					<dd class="col-sm-10" th:text="${customer.email}">VALUE</dd>
					
					<dt class="col-sm-2" th:text="#{customers.phone}">PHONE</dt>
					<dd class="col-sm-10" th:text="${customer.phone}">VALUE</dd>
					
					<dt class="col-sm-2" th:text="#{customers.id}">ID</dt>
					<dd class="col-sm-10" th:text="${customer.id}">VALUE</dd>
				</dl>
			</div>
			
			<div class="mb-5 p-4 bg-white shadow-sm" th:if="${travelguide != null}">
				<h3 class="pb-2" th:text="#{travelguides.details}">TRAVELGUIDE_DETAILS</h3>
				<dl class="row">
					<dt class="col-sm-2" th:text="#{travelguides.name}">NAME</dt>
					<dd class="col-sm-10" th:text="${travelguide.name}">VALUE</dd>
					
					<dt class="col-sm-2" th:text="#{travelguides.city}">NAME</dt>
					<dd class="col-sm-10" th:text="${travelguide.city.name}">VALUE</dd>
					
					<dt class="col-sm-2" th:text="#{travelguides.price}">NAME</dt>
					<dd class="col-sm-10" th:text="|EUR ${#numbers.formatDecimal(travelguide.price, 1, 2, 'COMMA')}">VALUE</dd>
				</dl>
			</div>
			
			<div class="mb-5 p-4 bg-white shadow-sm">
				<div class="row">
					<div class="col-lg-4">
						<p th:text="#{bookings.price} + ': EUR ' + ${#numbers.formatDecimal(totalPrice, 1, 2, 'COMMA')}"></p>
						<form method="post" th:action="@{/bookings/create/book}">
							<div class="form-group">
								<label for="paymentMethod" th:text="#{bookings.paymentMethod}">PAYMENT_METHOD</label>
								<select id="paymentMethod" th:name="paymentMethod" class="form-control selectpicker" data-live-search="true" required>
									<option th:each="method : ${T(tourable.booking.PaymentMethod).values()}" th:value="${{method}}" th:text="#{'bookings.paymentMethod.'+${{method}}}" />
								</select>
							</div>
							<button id="formButton" type="submit" class="btn btn-primary" th:text="#{bookings.book}">BOOK</button>
						</form>
					</div>
					<div class="col-lg-8">
						<form class="float-right" method="post" th:action="@{/bookings/create/abort}" style="display: inline-block;">
							<button id="backButton" type="submit" class="btn btn-secondary" th:text="#{buttons.abort}">ABORT</button>
						</form>
					</div>
				</div>
			</div>
		</div>
		
		<script th:src="@{/resources/js/vendor/bootstrap-select.min.js}"></script>
		
		<div th:include="footer :: footer"></div>
	</body>
</html>